{"componentChunkName":"component---src-templates-blog-post-js","path":"/sw_arch/","result":{"data":{"site":{"siteMetadata":{"title":"sysid blog","siteUrl":"https://sysid.github.io","social":{"twitter":""}}},"mdx":{"id":"35fd7f0b-ba26-5da8-b763-9c1e20c74f9e","excerpt":"A refresher in software architecture philosophies with Perseverance, Patience and Python. This is a high-speed overflight over current approaches with an occasional deep dive. CRUD, MVC simpleâ€¦","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Software Architecture 2022\",\n  \"date\": \"2021-12-31\",\n  \"description\": \"From CRUD over DDD to CQRS to Event Sourcing and further...\",\n  \"tags\": [\"python\", \"work\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"A refresher in software architecture philosophies with Perseverance, Patience and Python.\")), mdx(\"p\", null, \"This is a high-speed overflight over current approaches with an occasional deep dive.\"), mdx(\"h2\", null, \"CRUD, MVC\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"simple concepts and therefore effective communication in dev teams\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"works as expected. Limits known, e.g. modelling complex business domains\")), mdx(\"h2\", null, \"DDD and Clean Architecture\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"structure of software logic reflects business processes\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"ubiquitous language\"), \" as common communication ground for developer and business\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"concepts like \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Aggregate\"), \" and \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"UnitOfWork\"), \" provide clear consistency and concurrency model. Facilitates communication.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Clean Architecture and DI is conducive to structured and decoupled code (SRP)\\n\", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://netflixtechblog.com/ready-for-changes-with-hexagonal-architecture-b315ec967749\"\n  }), mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"76.35135135135135%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAACrElEQVQoz21SS0wTURTtThduNBHUsNCIi5Y/LsSoNBGViGh0wSdGEyWiWzFxIUTLp0KggkQ0ISnUEtoSSglC1EQ3VgiW1DKddpwCJcGWfqYdTS3TUob51TcztZjqmfNu5r777nsn915JkuN2mASGtxn47yaABCw6+ouJEWJ8myS/oSiyvJLiihu4W4kEf0UyubXmJn0e8T4+mSVJ1zU5IEdRwJ+bm+tUKgfaW190tAEOtCu6nirNZjMIsRTllOet3KhK65FwDP29qcF1r27RZlv3etQ6/VR9NVSQtVB0EHCxIOttXZXGMOZCUYcdQmvPrTU17CSnNfj9PuP0zGRvt6NcZpfusxdkQ/lZcOEB5IxUr2h+PTaOh8NsnGAIgs9gmFQyx7LABgIBjVY7W3/Rmb/fWXncp2r1PWtDLpUhxYfMV8o1Go3X680onkR0WJrWTZh0jx6g50sccpm/rwPXD4V1an+fErlQilYUTrY81BrGlldXA5qX7ttX3Y01W2urgmyW4WjKNDOj71Cgl085yqXrnc24fhjXDa13tSAVxWjVifH2x8apN0EMi3z6gA32hoYHKDwkSSsJBgLqkRFzYz1cmG2XyzxP7nsUTfDZIqQ052Nt5YjeEMKwTNlgxWyW6MKsDYKm372fHHwFVxTBuXugI7uhw7sc0r2wXKbtbDOYTNFIhI5GtsMYHfnJ0TRfMCYec5w8Zi3J+eH3xeNx9ajOeOf6fNnRz6dlgPNluaZbNaPGiSWXa9FiWb5Z7ZDnue/WctR26mXcMIQbhkUloNtd3d39KtVzVQ9gf08PcK1Wq1AZZhOFY1+/bC45UxOWMcA0TWNYEBTmD0PBYJAShu/fCZeIHecpgBV6ngGwyYfAJ54EE5JOFkGSZEwAQRB//2xsbMQFJBKJjMd/AyS6yL0hOFPXAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"hexagon\",\n    \"title\": \"hexagon\",\n    \"src\": \"/static/cf54ba1c90526a13693e865441cf973c/fcda8/hexagon.png\",\n    \"srcSet\": [\"/static/cf54ba1c90526a13693e865441cf973c/12f09/hexagon.png 148w\", \"/static/cf54ba1c90526a13693e865441cf973c/e4a3f/hexagon.png 295w\", \"/static/cf54ba1c90526a13693e865441cf973c/fcda8/hexagon.png 590w\", \"/static/cf54ba1c90526a13693e865441cf973c/efc66/hexagon.png 885w\", \"/static/cf54ba1c90526a13693e865441cf973c/c83ae/hexagon.png 1180w\", \"/static/cf54ba1c90526a13693e865441cf973c/c45c7/hexagon.png 1346w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://medium.com/gdplabs/clean-architecture-a8b5d93d0944\"\n  }), mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"72.97297297297297%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADLklEQVQozyWR63OiZhSH/Wv7oX9DZ7rOZJptYqIGQddLYhqjdXclEu029YaoIKKC4CVBtOoiIHdFM5t+2uLsmee8n84zZ37n9ei6piiy+1q6oiriShhOu5UFUxfH5GLc43uo0McEurHi2Y262WwUlx/zHMd5HGdn2dZhZ2mb9VhYUNyU6HQ5uisJrCXPlcXzkX8nmrS0j2W5WJa53zssy3q2W9vQFIITUrh83d2GCTlK6cnePksqrLDabW3T3pqWbZimu+0Hmqa6/lF2bBNpDAKlFTQY+QafzoTM6eguMCpA3ZeTDFVudXeWrhu66drHPmIY+m63PcpYf/xLErvsPd58L4akdByPhHEo4sCJ//K+VjmCbZgJb9u6KC8kWXLTStJaVmRV3XCufNuUfM1a8vuX9MufQ9A3/tXLn5xQCf/dJn/9VgDIyR06/Tp/mXRa5Vq1jtVRrF5DazUUbZNtTxRXYtpTwoLFKPD6AZqVIlME/Ba8aicuIScXZAuRyrJD99tcu02SNE0TbYKf8m4QhmE8/tII2iEpPGafXY5LYX2PKDa8QMLmZSAmpAAxD1bnVYphVwLVpXp9t3oDhnZjD4ecx18ehvePaSJu/X5BPwHqFlG2D7NH8DUEJmb3IRmJNNdkb/JmObbqnsswnJ26tW1nd8wMYStQRMBFSooA1gdgVIWGReAAgUzM7+0DAe4xgan3OJKdFvJ8efbyzKTT/ZsbkWHY0ciTwMR3yKd3dCDw4FsFfNZ73/bsYhQ698Lvz+fx039qsQLbnLWKc7Q6x8XlkoJhPJVaT8bsaOiBS42Tz31fJ/cbHw6J6btOPNm7BrSPvmXcT5aC5VWtTX1z9oeNc9gc7JXKZrNkIqZw7MDdrCnr+zIdrK4v8OrVMhd+RSDnISjAFw0iWF7DFdJQZUM1zKVuzU37q8YUC61MWpnyA/dgb29vmiL+3eonMekMHvzkDf18Gr36ItyiizrZ39n6q3NAV0R8mM3xT4uZwGYynURce55w47Gn1Wq6X0cSjfxDLhhJeM9D3nMAjF3/VUQoEscJvNVofqzA0coft5UMWqnkQPBzIFCBcwTZ/h+Ke746fu3QggAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"clean_architecture\",\n    \"title\": \"clean_architecture\",\n    \"src\": \"/static/1975ee1b3da140c8974626d336985d40/fcda8/clean_architecture.png\",\n    \"srcSet\": [\"/static/1975ee1b3da140c8974626d336985d40/12f09/clean_architecture.png 148w\", \"/static/1975ee1b3da140c8974626d336985d40/e4a3f/clean_architecture.png 295w\", \"/static/1975ee1b3da140c8974626d336985d40/fcda8/clean_architecture.png 590w\", \"/static/1975ee1b3da140c8974626d336985d40/efc66/clean_architecture.png 885w\", \"/static/1975ee1b3da140c8974626d336985d40/c83ae/clean_architecture.png 1180w\", \"/static/1975ee1b3da140c8974626d336985d40/1320e/clean_architecture.png 1292w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")))), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html\"\n  }), mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"56.75675675675676%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABqElEQVQoz0VS25KlIAz0/39vdx7mVB3vgiIIhKuCuNEzU0tR0GnSkIRU13WVUoL31rojBDSuZ8QYlVIAEPf9w5zn6ZyLx37++lQ3m8/X9/efv18gRCk5ZDw/wBpCKOfceLsjUxLe8nq9NlA/0o/4c2uyFiT3oLJzOCOAoYT1TQB9en9gYCCtFIcx6PxfnHP2IfBlWTeO0V5PJsiIdV05Q1DK7R1imNeFzbPzyJQfcTmL0UousxI8/WborRELlWwJ3n2YY98lZ4JMFvT1hF6lnKJzGyMetGDUKRkxOazWOutNGCUUX1AWYnQStdQDCEZQknKunPdd3xFKViEIpXX95oI/oGZYLiFuwNiysvf7jfymVNu24zShsNrTbrFOYjXROrVFwa3TADLyFYwEqyPn1ijjIW4CC2aiCegj+ZGOSms1Dj3OaZ7atqbTvY5od13T1riM/TAO3QP6rm3q9o1HGCCArvCVcZyGcaR07gfcJ5yU0gHxbY64EUKmacIL+r6n5D5qmtYYU+E/pZTu3/JYC30PAOwta+1jaHTC6MwzEGRsKWyKlM6c/wHFgW0Q1a6TDwAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"dep_vs_flow\",\n    \"title\": \"dep_vs_flow\",\n    \"src\": \"/static/9def96b4b953234f2ce76e87746b032b/fcda8/dep_vs_flow.png\",\n    \"srcSet\": [\"/static/9def96b4b953234f2ce76e87746b032b/12f09/dep_vs_flow.png 148w\", \"/static/9def96b4b953234f2ce76e87746b032b/e4a3f/dep_vs_flow.png 295w\", \"/static/9def96b4b953234f2ce76e87746b032b/fcda8/dep_vs_flow.png 590w\", \"/static/9def96b4b953234f2ce76e87746b032b/efc66/dep_vs_flow.png 885w\", \"/static/9def96b4b953234f2ce76e87746b032b/c83ae/dep_vs_flow.png 1180w\", \"/static/9def96b4b953234f2ce76e87746b032b/c1bea/dep_vs_flow.png 1388w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), \"\\nEvery system has these two kind of arrows:\\nthe dotted-green one showing the flow of control (or the flow of data in your system) and the red one showing the source code dependency.\"), mdx(\"p\", null, \"Usually, both of them are pointing in the same direction.\\nHowever, with the dependency inversion principle, we can invert the red arrow (the dependency arrow) every time we want.\\nEverywhere we need it.\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html\"\n  }), mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"54.72972972972974%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABXUlEQVQoz22SwW6DMBBE+f+vyq1UlZJL0yqHUKXBEAwGQglgjKEPrKRtmpFA47Vnd7xrb5omY4yUMl9QVVVZlhClVKbUtKBpmizLoijabDZsERnHkb/H13Xd8Xg8n89FUZQLIBwi6MREyB7H8W63I8W92OWDrNdrarq9NBL9ubS5it+3Io4/Dwf83IvbtiWxtRYxNTHZL4iEGHTHrQopgyB48n0qJ0nyR4wsW0DNVKWRFLnK01Ti1tnWWudFkbxt0zi+NM10hTf9Q2dbO1rHIdhBbMfRqAwjvTE4HYbhRzxeMY3TYM2XrrTRxGm+EKKu6+AjeHn2uTB2UlxJ+bjyPDxrmv5Sm2obvgoR0QXuvFqtwjAkHWLXtsfiW0tUkTEhfCLwfX+/38MZzel0msW4JzGh7hfmpZ7Jpb5QhA67alwBTjqWjMOj1XoBC56ac+VA//kzvNv74QDFkLhZfgME3HMTXJyjEAAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"dep_vs_flow_inversed\",\n    \"title\": \"dep_vs_flow_inversed\",\n    \"src\": \"/static/d596c9caa91d3641e3348aaef79931ab/fcda8/dep_vs_flow_inversed.png\",\n    \"srcSet\": [\"/static/d596c9caa91d3641e3348aaef79931ab/12f09/dep_vs_flow_inversed.png 148w\", \"/static/d596c9caa91d3641e3348aaef79931ab/e4a3f/dep_vs_flow_inversed.png 295w\", \"/static/d596c9caa91d3641e3348aaef79931ab/fcda8/dep_vs_flow_inversed.png 590w\", \"/static/d596c9caa91d3641e3348aaef79931ab/efc66/dep_vs_flow_inversed.png 885w\", \"/static/d596c9caa91d3641e3348aaef79931ab/c83ae/dep_vs_flow_inversed.png 1180w\", \"/static/d596c9caa91d3641e3348aaef79931ab/53639/dep_vs_flow_inversed.png 1358w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \"))), mdx(\"p\", null, \"Thanks to the power of polymorphism.\"), mdx(\"h2\", null, \"DDD, CQRS and Event Sourcing\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://danielwhittaker.me/2020/02/20/cqrs-step-step-guide-flow-typical-application/\"\n  }), mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"66.21621621621621%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACFUlEQVQoz21RaZOaQBDl//+e/bSbmPVaZZfEexQYGK45uBkQURHIqIllVfLqVc9R/Xpe90jtHU0z1qFiog2lK0zWlH6Z5ljV1oytGFtgMvO8kWF8IKvrOpHe3SDdl+p4HOw0yw8CznGSUJ6vEVLAlmTcSzM3TQVXhP7Q4D/ipokpVZDV1+EUWR8mmljWyDBH0BDHCbJkx5Vt932nzjzSPUEKDaiOx8vBYNbrhbb9XPgZ9fkcBf51Jzqsz/ccKfZca7X0TYNsQcHoQ9z+hfDFCTKXX0Duq1/DzfSd7WZleLUg7RNOoc1xULKkoLFgTiKO2Ckubu9cC1VZxH3sQpXZRurjIqTnMr+Kcw2z4Ubv/dy+Thcvw+2bvPv+iYaLArJnFyJGcZby/XNLUsmLGLNjVrT7YxVxZjrd/sxxGGHW1G19uFyq5hrrdg68bwNgednVS33rmXFvY89/aZ8LQxGcrAY62xxOJfaY9mnqcxMtHTR3PJVQRk+nMyb+CCT9BQ2LVgoyBj0VUVN3VWCuDaxBDMSU2vqCgWsBxwKuu8aBKaz4eX4gLNzZqbLzedVKeeZ7NkhjJw6M0De67lLwnITZltaIVadDXVeCl6bpVirpjYCN+WMKUhLrjqPI0zd5+krJ4lAycS3D8qW/HsxtK3mMvLs07Z3tn38UX1UESYTiyIgjmKVGXe9FXlo2k22kwKI83cTd//EbDJHMUKjkYXYAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"cqrs\",\n    \"title\": \"cqrs\",\n    \"src\": \"/static/2fad8fe342ee327b1555082666ae596c/fcda8/cqrs.png\",\n    \"srcSet\": [\"/static/2fad8fe342ee327b1555082666ae596c/12f09/cqrs.png 148w\", \"/static/2fad8fe342ee327b1555082666ae596c/e4a3f/cqrs.png 295w\", \"/static/2fad8fe342ee327b1555082666ae596c/fcda8/cqrs.png 590w\", \"/static/2fad8fe342ee327b1555082666ae596c/efc66/cqrs.png 885w\", \"/static/2fad8fe342ee327b1555082666ae596c/c83ae/cqrs.png 1180w\", \"/static/2fad8fe342ee327b1555082666ae596c/42b11/cqrs.png 2364w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \"))), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"differentiating between mutating functions and read-only is best practice 101.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"CQRS (without Event Sourcing) is old news. We are running dedicated OLTP DBs for decades.\")), mdx(\"p\", null, \"So let\\u2019s rather focus on Event Sourcing:\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://dev.to/barryosull/event-sourcing-what-it-is-and-why-its-awesome\"\n  }), \"Why is it cool?\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"high modelling flexibility\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"scalability due to append-only write together with optimistic locking\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"USP: temporal queries, branching in history for what if scenarios, state time travel\")), mdx(\"p\", null, \"Modelling flexibility is my favorite:\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.eventmodeling.org\"\n  }), mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"25%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyUlEQVQY03WP3QqCQBBGe/qeoceoO4NuQrIysSSC/iwSjTKwSHfddXdmG5MuCvr4WIblHJhpwXc0ABrUUipWACL8j1KqhYjGGHrqmndA+5vz9sppLIUgrgaa4mcgCuAjNxbqC4NF9Bx3rWod0A8rCq21+U2N13JjRWm+ON6X+3TQd72ede+0q5VPSCUlLX/jMImFG4tZIqeJtI+FF3OhSEaghikfHfJpmOW+I4NJGbjqdml2o7szppwTs/eP4S6zw+c4KudJKSv9AqsJHC4Xlq8dAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"event_modeling\",\n    \"title\": \"event_modeling\",\n    \"src\": \"/static/1b5482c27b96e78063852641570f7bee/fcda8/event_modeling.png\",\n    \"srcSet\": [\"/static/1b5482c27b96e78063852641570f7bee/12f09/event_modeling.png 148w\", \"/static/1b5482c27b96e78063852641570f7bee/e4a3f/event_modeling.png 295w\", \"/static/1b5482c27b96e78063852641570f7bee/fcda8/event_modeling.png 590w\", \"/static/1b5482c27b96e78063852641570f7bee/efc66/event_modeling.png 885w\", \"/static/1b5482c27b96e78063852641570f7bee/c83ae/event_modeling.png 1180w\", \"/static/1b5482c27b96e78063852641570f7bee/28d13/event_modeling.png 3210w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \"))), mdx(\"p\", null, \"It is a bold promise which I \\u2014 due to limited experience \\u2014 cannot comment on.\"), mdx(\"h4\", null, \"Challenges:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"introduces significant complexity\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"eventual consistency (at least) on read side\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"event schema migrations are hard\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"debugging not straight forward due to Events\\u2019 implicit instead of explicit call paths\")), mdx(\"p\", null, \"Overall I found discussion in the Community to be inconsistent. Similar terms different meanings. E.g. \\u201CEvent\\u201D can mean DomainEvent,\\nNotification, Command, \\u2026\"), mdx(\"h1\", null, \"Next Level: Food Truck Architecture?\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Dissolution of the single Domain Model into many parallel worlds.\")), mdx(\"p\", null, \"Take Event Sourcing, can the idea of Aggregates, generalize event pipelines and then arrive\\nat an interesting conclusion:\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"?! The Domain Model Fallacy !?\")), mdx(\"p\", null, \"Or is it more \\u201CBack to the Future\\u201D: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://martinfowler.com/bliki/MultipleCanonicalModels.html\"\n  }), \"multiple canonical models\"), \".\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://ralfw.de/food-truck-architecture-its-all-about-events/\"\n  }), mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"62.83783783783784%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACk0lEQVQ4y21TTW/TQBDNT+XGgRN3TlTcK/WAkCCtSkEgUIVaVa1SFdqkBSWlDUlomg/HTuJ4d/3t2E7spIXH2PmAVhxm92nteftm3mwmDBhGIUMYaPN9hkPCo/RMg+epsJ0+/KGKyZhhSmcRfQ98Ovd78AKV8Cw/kywLogVxgqMRg08/jSMLpfwn7GRX0G5e4PC8iI3DHPKVItrXNeRXX6OydwB32KccjsyYloQkuSHBaZCCoc9QVwUsT0ejVsDJXhbNxgUKtR9Y29lB7vwr1K6Es7U3KH/YhUdqxyERuo5CyjjiSIfj9GBbXQiLyAY6+ganiwZUPl060lMcj+jiYJCWPCYcUAt8EhAuSq5fHaW9EVyGIm/iZ3UFPbUM5tiUTASUEI11TGKTdpEmTWODBBCmamLCi/OkukxH2kaikmkSFOUdmPocCu9BFqRQZzAcAT6oQ2l/hyFasOwuGnINmpDgWgpUqQbT6CCYm5rxXDllnsY6DJujQX0zXAOcsMw5LN/GxdkuXj17iOPddRQbdTx6sY6t/DHK+VPkHq+iuPERrn/HFDY3hRGRQFfn5NrMnMRtx1ZwXc2jK13C9gYotypodKoweRutQgFS8RuG1La05L/zN9sTksQMWQioJofjsdSw218eJhOLvjP8npppRQEJiW9NTG6t5dgt5/B+MFLaZoJ2A1q/itbVGQS7huP2IfeuYBhSqt40O9BFOxW0VLiIpdL5cJuOhunExPH+FrJPH+AL9bBEPXzy9j2yn49QvSzhZOUlTlc3YZkzL/55KRruv5qk/AQboonzk200a3kaYA2nlRIKFGq/icqnfVQOcvQ8+3cJ/xdL4mQKpg710pjNIc3gDfUwGnNENwbCiM9zOP4AAL623nAoPOIAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"food_truck\",\n    \"title\": \"food_truck\",\n    \"src\": \"/static/eca6e5fe5c41f12e34ebf6c59af71214/fcda8/food_truck.png\",\n    \"srcSet\": [\"/static/eca6e5fe5c41f12e34ebf6c59af71214/12f09/food_truck.png 148w\", \"/static/eca6e5fe5c41f12e34ebf6c59af71214/e4a3f/food_truck.png 295w\", \"/static/eca6e5fe5c41f12e34ebf6c59af71214/fcda8/food_truck.png 590w\", \"/static/eca6e5fe5c41f12e34ebf6c59af71214/efc66/food_truck.png 885w\", \"/static/eca6e5fe5c41f12e34ebf6c59af71214/4c42d/food_truck.png 896w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \"))), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://ralfw.de/food-truck-architecture-its-all-about-events/\"\n  }), \"The Food Truck Architecture\"), \"\\ncooks interesting thought food.\"), mdx(\"h4\", null, \"Value Proposition: Maximize Modelling Flexibility\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"The evolutionary demands on software are so huge that I think the first and foremost requirement to fulfill is changeability, malleability. Flexibility first!\")), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://ralfw.de/food-truck-architecture-its-all-about-events/\"\n  }), \"It is all about events\"), \" was intriguing enough for me\\nto refine the provided C# example into a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/sysid/food_truck\"\n  }), \"Python model\"), \" for experimentation and insight.\"), mdx(\"p\", null, \"One pipeline rules all:\\n\", mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"402px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/f9ff9a09d047cc82a6cea50710f6ecf1/0ec92/pipeline.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"105.40540540540542%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsTAAALEwEAmpwYAAADgUlEQVQ4y3VUiW7qOBTN/3/GvGnVSlONRqW07PvSQAIJ8RY7trOQ0gLttJStQBgHqieN5s3VkXVi+a7HjnY8WZIkao3jGAAQjSM/COKnmAvuUjqO4zAKhZSM84/FIj18/DZtv14eNquT73E+m1FKXYiMri6pB4d2v90FQxvZjt5qP7baDOGv5Xr1vlh/fK7fF5pfzKPb293u8B0ySaZ+5HtcMi/gotNoVnKF7G2m3WgW7x+qhSKBSEV3EWYDWws6Fqvpyi3ZHo6b/XG9G1NJIeGYUZCunsc5YQIzzrhQwEwQz1OfDtZeiZgRkez2U9qOeCFyaoFelzBLrEzMSxLlQCUfkAIDGad+x42yTx88cB+5OVzPawhCKaWql/Vyeu33QemGVPNm/fKxfDFoXuuVSzOXsVs3evWH/vDHqJ41mpdq02pd9e/+1Dafy/fZfDqdbrdfm+VmvVgFlEOIoeWAEYSqPZcigKDtIEwIcRHCan4AIDIYafvV5u/4ORJyGUze+3ay3U6CsSc4Z8xT4F5qihBXKadouirOuYBYO2x3h+3XWbfJXZ7oRinzYPVNog8483xfDZ4zShkm34G4p3g6RnBy3m++kpNM02J1/TKTiCo9cNcwDbPz+KjuiXKh2P2188/Mz9nCOpq8BLFHKUfErLYa2TzUTVhskt6QS3Fu5H+c7wrxwEGm1e90jWbb7OrCZQwR6kAKsar/15m/yy5UQoiHjW67Vm8WyrV8kYwAVQMfQXc4SkOoIfeHqN33pOAO+lfm6X1p6pButWHqulCXTOWEKIUDXduhCKv8KRyk8nOAtORrt1tt5vP529vr0+3DB5U+pthxXGvkOoAixNRpkDqzM1chHOgpJRyo7d4Wn14UYjaR0azc2i0+n8Mn9S64q+RVckouZXq91bClkk0I4XuqZSZUaVoYhi8vL6rlj8CekMoEdoN+Wzh5OsyFuCJBGTaqPqh4oxxqF7jZ8FGJj4ohLJFmRWO1IqmVkv2B9TL9zm9m+dqt3duPF73Gj1Hv2mhemPd/QePG6Ki7fQWaGat3abQvQe+qn73RZLkFM8V9kmw+Fsv563L+FkAXDobYsuHAUsBACWCjgYXsEXFASoY2HFpYN7WJRZ4G+PjTDkksAiq4aso7QTWuWj1xnkp93vdlqvPq7V3hsN+f/2TJIZkG45AL9VTOCP9DUkg5dr1/AEUuOy6sM31ZAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Pipeline\",\n    \"title\": \"Pipeline\",\n    \"src\": \"/static/f9ff9a09d047cc82a6cea50710f6ecf1/0ec92/pipeline.png\",\n    \"srcSet\": [\"/static/f9ff9a09d047cc82a6cea50710f6ecf1/12f09/pipeline.png 148w\", \"/static/f9ff9a09d047cc82a6cea50710f6ecf1/e4a3f/pipeline.png 295w\", \"/static/f9ff9a09d047cc82a6cea50710f6ecf1/0ec92/pipeline.png 402w\"],\n    \"sizes\": \"(max-width: 402px) 100vw, 402px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"For every message a bespoke model (projection) is being created and passed to the processor.\\nAnd every message (command, query, notification) is handled the same.\"), mdx(\"h3\", null, \"Conclusion\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"using a unified pipeline for Commands, Queries and Notifications is a logic development for Event Sourcing, if\\nnot event handling in general. It has potential so simplify architecture.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"having bespoke read-only models within every pipeline is a an optional optimization to build business logic\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"the described development and architecture model reduces cognitive load (after conquering\\nthe non trivial learning curve, of course) due to its simple recipe and purported share nothing architecture.\")), mdx(\"p\", null, \"The main issues I found while playing with the code revolve around consistency and concurrency:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"not having an aggregate with well defined consistency boundaries makes reasoning about consistency and\\nconcurrency difficult if not impossible.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"without a aggregate root, I could not find a natural criteria to define event streams. So optimistic\\nconcurrency handling becomes fragile, if possible at all.\")), mdx(\"p\", null, \"After all, these issues challenge the very foundation of the model:\\nForgoing global business objects (e.g. aggregate) and assuming a shared nothing world between pipelines.\"), mdx(\"p\", null, \"The presented ideas are still very early stages and it is not recommended to jump ship with serious workloads. However, it provides ideas\\nworth to be explored deeper! And it is definitely a pleasure to read Ralph\\u2019s clear and well writen articles.\"), mdx(\"p\", null, \"So, at least now I can say, that I used my Covid quarantine in a rewarding way :-).\"), mdx(\"h1\", null, \"Resources\"), mdx(\"small\", null, \"https://netflixtechblog.com/ready-for-changes-with-hexagonal-architecture-b315ec967749 https://medium.com/gdplabs/clean-architecture-a8b5d93d0944 https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html https://danielwhittaker.me/2020/02/20/cqrs-step-step-guide-flow-typical-application/ https://ralfw.de/food-truck-architecture-its-all-about-events/ https://www.eventmodeling.org/posts/what-is-event-modeling/\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Software Architecture 2022","date":"December 31, 2021","description":"From CRUD over DDD to CQRS to Event Sourcing and further...","tags":["python","work"]},"fields":{"slug":"/sw_arch/","readingTime":{"minutes":3.64}}}},"pageContext":{"slug":"/sw_arch/","previous":{"fields":{"slug":"/twbm/"},"frontmatter":{"title":"twbm","tags":["productivity","python"]}},"next":null}},"staticQueryHashes":["2841359383","4035129850"]}