<!DOCTYPE html>
<html lang="en-us">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  	<meta property="og:title" content=" LSTM versus MLP for timeseries &middot;  " />
  	<meta property="og:site_name" content="" />
  	<meta property="og:url" content="https://sysid.github.io/post/adding-problem/" />

    
  	<meta property="og:type" content="article" />

    <meta property="og:article:published_time" content="2017-02-20T07:23:42&#43;01:00" />

    
    <meta property="og:article:tag" content="sysid" />
    
    <meta property="og:article:tag" content="ml" />
    
    <meta property="og:article:tag" content="machine learning" />
    
    <meta property="og:article:tag" content="deep learning" />
    
    

  <title>
     LSTM versus MLP for timeseries &middot;  
  </title>

    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://sysid.github.io/images/favicon.ico">
	  <link rel="apple-touch-icon" href="https://sysid.github.io/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="https://sysid.github.io/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="https://sysid.github.io/css/nav.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400|Inconsolata" />

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    
      
          <link href="https://sysid.github.io/index.xml" rel="alternate" type="application/rss+xml" title="" />
      
      
    
    <meta name="generator" content="Hugo 0.18.1" />

    <link rel="canonical" href="https://sysid.github.io/post/adding-problem/" />

    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-79101-12', 'auto');
      ga('send', 'pageview');

    </script>
    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://sysid.github.io/">My Blog</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://sysid.github.io/about">About me</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://sysid.github.io/post/be-a-prophet-for-airline-data/">Facebook&#39;s Prophet forecasting library</a>
            </li>
        
            
            <li class="nav-opened nav-current" role="presentation">
            	<a href="https://sysid.github.io/post/adding-problem/">LSTM versus MLP for timeseries</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://sysid.github.io/post/energy-consumption-prediction/">energy consumption prediction</a>
            </li>
        
    </ul>
    
    
    <a class="subscribe-button icon-feed" href="https://sysid.github.io/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">




<header class="main-header post-head no-cover">
  <nav class="main-nav clearfix">


  
  
      <a class="menu-button" href="#"><span class="burger">&#9776;</span><span class="word">Menu</span></a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">LSTM versus MLP for timeseries</h1>
        <small></small>

        <section class="post-meta">
        
          <time class="post-date" datetime="2017-02-20T07:23:42&#43;01:00">
            Feb 20, 2017
          </time>
        
         
          <span class="post-tag small"><a href="https://sysid.github.io/tags/sysid/">#sysid</a></span>
         
          <span class="post-tag small"><a href="https://sysid.github.io/tags/ml/">#ml</a></span>
         
          <span class="post-tag small"><a href="https://sysid.github.io/tags/machine-learning/">#machine learning</a></span>
         
          <span class="post-tag small"><a href="https://sysid.github.io/tags/deep-learning/">#deep learning</a></span>
         
        </section>
    </header>

    <section class="post-content">
      

<p>Long Short Term Memory neural networks versus Multi Layer Perceptrons for time series:</p>

<p>Playing around with RNN and LSTM for time series modelling so far resulted in disappointment. Traditional MLPs seem to perform better.
On the internet RNNs are often recommended for time-series data, but my results do not confirm this sentiment. Published examples on the internet normaly do not include a comparision
with MLP models, so I decided to analyse performance of LSTM time-series forecasting versus MLP systematically.</p>

<p>First I needed to decided on the experimental setup and I started with a dataset which migth not seem as the natural first choice for timeseries examples: The Adding Problem.</p>

<p>My inspiration herefor was <a href="http://simaaron.github.io/Estimating-rainfall-from-weather-radar-readings-using-recurrent-neural-networks/">http://simaaron.github.io/Estimating-rainfall-from-weather-radar-readings-using-recurrent-neural-networks/</a>.</p>

<h3 id="part-1-the-adding-problem">Part 1: The Adding Problem</h3>

<p>The prediction of cumulative values from variable-length sequences of vectors with a ‘time’ component is highly reminiscent of the so-called
<em>Adding Problem</em>
 in machine learning—a toy sequence regression task that is designed to demonstrate the power of recurrent neural networks (RNN) in learning long-term dependencies (see
 <a href="http://arxiv.org/abs/1504.00941">Le et al.</a>
 , Sec. 4.1, for a recent example):</p>

<!-- 
<figure >
    
        <img src="https://sysid.github.io/images/RNN_adding.png" />
    
    
    <figcaption>
        <h4>RNN</h4>
        
    </figcaption>
    
</figure>
 -->


<figure >
    
        <img src="https://sysid.github.io/images/RNN_adding.png" />
    
    
</figure>


<p><br>
Braced with this data I started my experiments to compare LSTM with MLP <a href="../../nbs/adding.html">here</a>.</p>

<h3 id="conclusion">Conclusion</h3>

<p>Traditional MLP models seem to yield better results for this kind of sequence problem. They converge for sequence sizes &gt; 50 and seem to have lower MSE.
This leaves me wondering whether the prevalent opinion on the internet on RNNs and especially LSTMs for time series data modelling seems to be misguided.</p>

    </section>


  <footer class="post-footer">


    

    





<section class="author">
  <h4><a href="https://sysid.github.io/">TW</a></h4>
  
  <p>Read <a href="https://sysid.github.io/">more posts</a> by this author.</p>
  
  <div class="author-meta">
    <span class="author-location icon-location">Germany</span>
    
  </div>
</section>



    
<section class="share">
  <h4>Share this post</h4>
  <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=LSTM%20versus%20MLP%20for%20timeseries&amp;url=https%3a%2f%2fsysid.github.io%2fpost%2fadding-problem%2f"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="hidden">Twitter</span>
  </a>
  <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fsysid.github.io%2fpost%2fadding-problem%2f"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="hidden">Facebook</span>
  </a>
  <a class="icon-pinterest" style="font-size: 1.4em" href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2fsysid.github.io%2fpost%2fadding-problem%2f&amp;description=LSTM%20versus%20MLP%20for%20timeseries"
      onclick="window.open(this.href, 'pinterest-share','width=580,height=296');return false;">
      <span class="hidden">Pinterest</span>
  </a>
  <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=https%3a%2f%2fsysid.github.io%2fpost%2fadding-problem%2f"
     onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
      <span class="hidden">Google+</span>
  </a>
</section>



    

<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'sysid';
  var disqus_url = 'https:\/\/sysid.github.io\/post\/adding-problem\/';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>




  </footer>
</article>

</main>
    <footer class="site-footer clearfix">
        <section class="copyright"><a href=""></a> All rights reserved - 2016</section>
        
        <section class="poweredby">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/vjeantet/hugo-theme-casper">Casper</a> theme</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="https://sysid.github.io/js/jquery.js"></script>
    <script type="text/javascript" src="https://sysid.github.io/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://sysid.github.io/js/index.js"></script>
    
</body>
</html>

