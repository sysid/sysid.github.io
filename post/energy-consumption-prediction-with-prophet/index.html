<!DOCTYPE html>
<html lang="en-us">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  	<meta property="og:title" content=" energy consumption prediction with prophet &middot;  " />
  	<meta property="og:site_name" content="" />
  	<meta property="og:url" content="https://sysid.github.io/post/energy-consumption-prediction-with-prophet/" />

    
  	<meta property="og:type" content="article" />

    <meta property="og:article:published_time" content="2017-03-07T21:53:53&#43;01:00" />

    
    <meta property="og:article:tag" content="sysid" />
    
    <meta property="og:article:tag" content="ml" />
    
    <meta property="og:article:tag" content="machine learning" />
    
    <meta property="og:article:tag" content="prophet" />
    
    

  <title>
     energy consumption prediction with prophet &middot;  
  </title>

    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://sysid.github.io/images/favicon.ico">
	  <link rel="apple-touch-icon" href="https://sysid.github.io/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="https://sysid.github.io/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="https://sysid.github.io/css/nav.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400|Inconsolata" />

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    
      
          <link href="https://sysid.github.io/index.xml" rel="alternate" type="application/rss+xml" title="" />
      
      
    
    <meta name="generator" content="Hugo 0.18.1" />

    <link rel="canonical" href="https://sysid.github.io/post/energy-consumption-prediction-with-prophet/" />

    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-49519316-2', 'auto');
      ga('send', 'pageview');

    </script>
    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://sysid.github.io/">My Blog</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://sysid.github.io/about">About me</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://sysid.github.io/machine-learning/">ML Cheat Sheet</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://sysid.github.io/lighthouse-examples/">lighthouse examples</a>
            </li>
        
    </ul>
    
    
    <a class="subscribe-button icon-feed" href="https://sysid.github.io/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">




<header class="main-header post-head no-cover">
  <nav class="main-nav clearfix">


  
  
      <a class="menu-button" href="#"><span class="burger">&#9776;</span><span class="word">Menu</span></a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">energy consumption prediction with prophet</h1>
        <small></small>

        <section class="post-meta">
        
          <time class="post-date" datetime="2017-03-07T21:53:53&#43;01:00">
            Mar 7, 2017
          </time>
        
         
          <span class="post-tag small"><a href="https://sysid.github.io/tags/sysid/">#sysid</a></span>
         
          <span class="post-tag small"><a href="https://sysid.github.io/tags/ml/">#ml</a></span>
         
          <span class="post-tag small"><a href="https://sysid.github.io/tags/machine-learning/">#machine learning</a></span>
         
          <span class="post-tag small"><a href="https://sysid.github.io/tags/prophet/">#prophet</a></span>
         
        </section>
    </header>

    <section class="post-content">
      

<h1 id="energy-consumption-prediction-with-facebook-s-prophet-library">Energy Consumption Prediction with Facebook&rsquo;s Prophet library</h1>

<p>I already introduced <a href="https://facebookincubator.github.io/prophet/">Prophet</a> as a time-series prediction tool which has a
exceptionally well designed user interface and is easy to use for simple cases while delivering impressive results
(<a href="https://sysid.github.io/post/be-a-prophet-for-airline-data/">see airline use case</a>).</p>

<p>Today I will use <a href="https://facebookincubator.github.io/prophet/">Prophet</a> for predicting energy consumption in Germany based on real data. Recently I covered the <a href="https://sysid.github.io/post/energy-consumption-prediction/">same use
case with Recurrent Neural Networks</a> so this will serve as comparison of two different prediction approaches.</p>

<h2 id="data">Data</h2>

<p>Raw data is the hourly energy consumption of Germany from 2014 to end of 2016 and then further predicted up until 2018.
This timeseries from 2014-2018 will then in total be used as basis for predition into 2019.</p>


<figure >
    
        <img src="https://sysid.github.io/images/consumptionProphet/consumptionProphet1.png" />
    
    
</figure>


<h2 id="model">Model</h2>

<p>Again it is surprising how user friendly Facebook designed the library interface. You don&rsquo;t really need to have any
programming skills in order to use most of the framework out of the box:</p>

<pre><code class="language-python">m = Prophet()
m.fit(de)
</code></pre>

<h2 id="prediction">Prediction</h2>

<pre><code class="language-python">days = 365
future = m.make_future_dataframe(periods=24*days, freq='H')
forecast = m.predict(future)
m.plot(forecast)
</code></pre>


<figure >
    
        <img src="https://sysid.github.io/images/consumptionProphet/consumptionProphet2.png" />
    
    
</figure>


<p>You can see high variance in the forecast due to day and night differences of 40000 GW. It would be a straightforward exercise
to narrow the variance by eliminating day-night differences and only look at averages or top figures.</p>

<p>When looking at the components of the intrapolated curve you can nicely identify the trends in energy consumption on weekends
as well as during summer months and the christmas break. Also the overall decreasing trend in power consumption has been picked up correctly. The little peak in 2016 does not seem to be statically significant. However, this probably needs further investigation.</p>

<p>The nice thing is: Prophet gives you this decomposition &lsquo;for free&rsquo;.</p>


<figure >
    
        <img src="https://sysid.github.io/images/consumptionProphet/consumptionProphet3.png" />
    
    
</figure>


<p>Not only fits the model the real seasonal trends quite well, it extrapoloates them into the future as prediction. The quality of
the prediction has not been assessed, but in this analysis I am only interested in picking up the time dependencies and trends over an extended period.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Compared to to time series prediction with Recurrent Neuronal Networks the approach is much simpler and time effective. At least
for this particular well behaved use case the results are good in both cases.</p>

<p>Certainly this paper is only a very rough qualit√§tive proof of concept, but it is promising enough to incorporate  <a href="https://facebookincubator.github.io/prophet/">Prophet</a> into my toolbelt for time series forecasting.</p>

<p>Thanks for reading.</p>

    </section>


  <footer class="post-footer">


    

    





<section class="author">
  <h4><a href="https://sysid.github.io/">TW</a></h4>
  
  <p>Read <a href="https://sysid.github.io/">more posts</a> by this author.</p>
  
  <div class="author-meta">
    <span class="author-location icon-location">Germany</span>
    
  </div>
</section>



    
<section class="share">
  <h4>Share this post</h4>
  <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=energy%20consumption%20prediction%20with%20prophet&amp;url=https%3a%2f%2fsysid.github.io%2fpost%2fenergy-consumption-prediction-with-prophet%2f"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="hidden">Twitter</span>
  </a>
  <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fsysid.github.io%2fpost%2fenergy-consumption-prediction-with-prophet%2f"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="hidden">Facebook</span>
  </a>
  <a class="icon-pinterest" style="font-size: 1.4em" href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2fsysid.github.io%2fpost%2fenergy-consumption-prediction-with-prophet%2f&amp;description=energy%20consumption%20prediction%20with%20prophet"
      onclick="window.open(this.href, 'pinterest-share','width=580,height=296');return false;">
      <span class="hidden">Pinterest</span>
  </a>
  <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=https%3a%2f%2fsysid.github.io%2fpost%2fenergy-consumption-prediction-with-prophet%2f"
     onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
      <span class="hidden">Google+</span>
  </a>
</section>



    

<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'sysid';
  var disqus_url = 'https:\/\/sysid.github.io\/post\/energy-consumption-prediction-with-prophet\/';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>




  </footer>
</article>

</main>
    <footer class="site-footer clearfix">
        <section class="copyright"><a href=""></a> All rights reserved - 2016</section>
        
        <section class="poweredby">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/vjeantet/hugo-theme-casper">Casper</a> theme</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="https://sysid.github.io/js/jquery.js"></script>
    <script type="text/javascript" src="https://sysid.github.io/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://sysid.github.io/js/index.js"></script>
    
</body>
</html>

